# 2024-2-Backend-Study

2024년 2학기에 진행되는 스프링으로 진행되는 백엔드 스터디 커리큘럼 과제 제출입니다.

---

## 🎈 오늘은 뭘 배워볼까? 🎈

👩‍🏫 유효성 검증과 예외에 대한 대응을 해보자

---

### 유효성 검증

#### 잘못된 요청을 파악하자

1. 엇 요청이 잘못 들어왔다!
2. 살펴보니 ~~ 이런 점이 잘못 되었어!

#### 왜 필요한가?

이전까지의 API 서버는 서버 측에서 의도한 요청에만 처리 가능

**but,**

- 클라이언트 측의 문제도 다양한데, 500 에러로 상태코드가 뜨면 서버 측에서는 에러에 대해 대응하기 어려움
- 어플리케이션에을 넘어 데이터베이스까지 요청을 보내 예외를 확인하면 시간과 자원 낭비가 상당함

#### 유효성 검사, 어떤 일을 하는가?

- What

  요청으로 들어오는 데이터가 **올바른 형식**인지

- Who/ Where

  **DTO** 클래스에서

- When

  클라이언트가 요청을 보낼 때

- Why

  데이터 무결성 유지, 잘못된 요청 방지

- How

  DTO 클래스에 **제약 조건**(@Length, @NotNull, @Max(8), @Email 등)과 **에러 메시지** 명시

  컨트롤러에서 DTO 매개변수에 `@Valid` 추가하여 검증 활성화

### Gloabal Exception Handler

#### 하나씩 뜯어보자

> **Gloabal**: 모든 컨트롤러에 공통으로 적용되게

> **Exception**: 어떤 에러인지 예외 종류에 따라 응답할 response를

> **Handler**: 새로운 클래스를 만들어 에러를 어떻게 처리할 지 직접 설정 가능

#### AOP(Aspect-Oriented Programming)

> 모든 컨트롤러의 **공통 관심사**인 **에러 처리**를 별도의 클래스로 분리하여 구현하자

- `@ControllerAdvice` 어노테이션 사용
- 에러 발생 시, 해당 에러에 대한 핸들러가 기존 컨트롤러 대신 response body 생성 후 응답
- 에러 클래스 매칭은 상속 관계를 따라 올라가며 매칭
- 모든 에러 클래스의 공통 부모: Exception 클래스

### 커스텀 예외

> 어플리케이션이 공통으로 사용할 예외로, 서비스나 DTO 등에서 작성한 에러 메시지를 공통으로 쓸 수 있게 상수로 정의한 클래스

###

---

## 이번 주차를 공부한 뒤 느낀점은❔

🧸: 저번에 참여한 프로젝트의 스프링 구조를 보니 커스텀 예외 클래스가 따로 있어서, "아~ 이렇게 예외를 한 번에 처리할 수 있게 하는구나"라고 생각하고 넘어갔는데, 오늘 수업을 통해 예외를 다루는 방법, 클래스를 분리하는 방법 등 그 자세한 내용에 대해 알 수 있었다.
