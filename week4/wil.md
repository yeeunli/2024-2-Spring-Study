# 2024-2-Mobile-Study

2024년 2학기에 진행되는 스프링으로 진행되는 백엔드 스터디 커리큘럼 과제 제출입니다.

---

## 🎈 오늘은 뭘 배워볼까? 🎈

👩‍🏫 JPA로 ERD를 다루어보자❕

---

### ERD란?

> 문제 상황을 개체 간의 관계를 다이어그램으로 표현한 것

### DB 설계

#### 어떻게 표현할까?

- 개체 → 테이블
- 관계 → 테이블 or **외래키**
- 속성 → 테이블 컬럼

#### 개체 간의 관계에는 어떤게 있을까?

- 다대일 (N : 1)
- 일대다 (1 : N)
- 일대일 (1 : 1)
- 다대다 (N : M) → 테이블 하나를 더 만들어서 연결해주자

### JPA로 ERD로 설계한 DB를 구현해보자

설계한 E-R 다이어그램을 바탕으로, Entity 클래스를 만들자

#### Entity란

> DB와 매핑되는 자바 객체

- 필요한 어노테이션

  `@Entity`, `@Id`, `@GeneratedValue`(Id 값 자동 생성), `@Column`(컬럼 이름과 타입 지정)

- 외래키 지정 시

  엔티티 객체를 필드로 넣고 `@JoinColumn`, `@ManyToOne`(fetch 속성은 LAZY로) 사용

- 생성자

  주로 id 필드를 제외하며,
  `@NoArgsConstructor`(JPA가 인자 없는 생성자를 필요로 하기 때문) 어노테이션 사용

#### JPA란

> Java Persistence API로, 자바와 관계형 데이터베이스 간의 매핑을 도와주는 표준 인터페이스

오! 다음과 같은 이점 존재

- JPA가 알아서 쿼리문 짜줘서 디비에서 데이터 가져옴
- 직접 조인하지 않아도 알아서 외래키 관계 지정해줌

---

### 과제 풀이

- 유저는 여러 친구를 추가할 수 있다. (1:N)
- 그 친구 또한 여러 친구를 추가할 수 있다. (1:M)
- 따라서, 유저-친구 관계는 N:M이다.

  라고 생각하여 erd를 짜보았는데, 이게 아닌 것 같다...ㅎㅎ

---

## 이번 주차를 공부한 뒤 느낀점은❔

🧸: 명세를 완벽히 파악하지 못한 탓인지 erd 그리는 데에 있어 확신이 없었다. 다음에는 시간을 두어 천천히 생각하며 개체 간의 관계를 그려보아야겠다. 아직 스프링 지식을 쌓기에 부족한 것 같아서 휴강 주차 동안 개념 공부를 해놓아야겠다.
